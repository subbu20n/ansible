- name: functions 
  hosts: local 
  connection: local 
  vars: 
   persons: "subbu,chinna,arun,tharun"
   person: subbu 
  tasks: 
  - name: check undefined variable 
    ansible.builtin.debug: 
      msg: "Hello, {{ person | default ('ramesh') }}"

  - name: print names 
    ansible.builtin.debug: 
      msg: "Hello {{ persons | split (',') }}"
  
  - name: convert map into list 
    vars: 
      course: 
        name: ansible 
        duration: 10hr 
        trainer: siva 
    ansible.builtin.debug: 
      msg: "{{ course | dict2items }}"
  
  - name: convert list into map 
    vars: 
      courses: 
         - { 'key': 'name','value': 'ansible'}
         - { 'key': 'duration','value': '10hr'}
         - { 'key': 'trainer','value': 'siva'} 
    ansible.builtin.debug: 
      msg: "{{ courses | items2dict }}"

  - name: convert to uppercase
    vars: 
      name: "subbu" 
    ansible.builtin.debug: 
      msg: "{{ name | upper }}"  

  - name: convert into lower 
    vars: 
      name: "SUBBU" 
    ansible.builtin.debug: 
      msg: "{{ name | lower }}" 

  - name: check ip address is valid or not 
    vars: 
      ip: "234.675.876.900" 
    ansible.builtin.debug: 
      msg: "{{ ip | ansible.utils.ipaddr }}"